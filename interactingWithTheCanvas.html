<!DOCTYPE html>
<html>
<head>
	<title>animating the canvas</title>
</head>
<style type="text/css">
	canvas{
		background-color: #ccf;
		margin: 0;
		padding: 0;
		border: 2px ridge blue;
		}
</style>
<body>
<canvas id="canvas"></canvas>
<script  type="text/javascript">

var mouse = {
	x: undefined,
	y: undefined
}

var maxRaduis = 100;
// minRadius =  5;

window.addEventListener("mousemove", function(event){
	mouse.x = event.x;
	mouse.y = event.y;
	console.log(mouse);
})



function Circle(x, y, dx, dy, radius, Color,Color2){
	this.x = x;
	this.y = y;
   this.dx = dx;
	this.dy = dy;
	this.radius = radius;
	this.minRadius = radius;
           var r2 = Math.floor(Math.random()* 205) +50;
             var r3 = Math.floor(Math.random()* 205) +50;
             var r4 = Math.floor(Math.random()* 205) +50 ;        
            Color =  "rgba(" + r2 + ", " + r3 + ", " + r4 + ", 1)";
          Color2 =  "rgba(" + r4 + ", " + r2 + ", " + r3 + ", 0.3)";
         
           	colorsArray = ["#459","silver","#922", "#78d", "#f66", "#544","005"];	
  	a = Math.floor(Math.random()* colorsArray.length)
     b = colorsArray[a];
	this.draw = function(){
		 
c.beginPath();
 c.arc(this.x,this.y,this.radius, 0,Math.PI*2, (true));
  // c.strokeStyle = Color2;
  	 c.fill();
  c.fillStyle = Color;
 // c.stroke();

	}
	this.update = function(){
	 if (this.x + this.radius >= innerWidth || this.x - radius < 0) {
 	this.dx = -this.dx;
 }

 if (this.y + this.radius >= innerHeight || this.y - radius < 0) {
 	this.dy = -this.dy;
 }
 
this.x += this.dx;
this.y += this.dy;	

// add interactivity

if (mouse.x - this.x < 50 && mouse.x - this.x > -50
     && mouse.y - this.y < 50 && mouse.y - this.y > -50
	) {
	if (this.radius < maxRaduis) {
	this.radius += 2;
}
}

else if (this.radius > this.minRadius){
	this.radius -=1;
}


this.draw();
	}
}


	var canvas = document.getElementById('canvas');
	canvas.width = window.innerWidth;
	canvas.height = window.innerHeight - 20;

var c = canvas.getContext('2d');

  console.log(circlesArray);

 function animate() { 
 	requestAnimationFrame(animate);
 	c.clearRect(0,0, innerWidth, innerHeight);
 for (var i = 0; i < circlesArray.length; i++) {
 	circlesArray[i].update();

 	 }
 }
var circlesArray = [];
  
function init(){

  circlesArray = [];
  for (var i = 0; i <= 1000; i++) {
  	var radius = Math.floor(Math.random()* 50) ;
  	var circle = new Circle(200, 200, 3, 3, 30);

var x = Math.random() * (innerWidth - radius * 2) + radius;
y = Math.random() * (innerHeight - radius * 2 )+ radius;
var dx =(Math.random()-0.5) * 15;
dy = (Math.random()-0.5) * 15;
radius = Math.floor(Math.random()* 3)+2 ;
  	circlesArray.push(new Circle(x,y, dx, dy,radius));
 
  }
}

 init();
 animate(); 
 // window.addEventListener('blur', function() {
 // 	window.location = "canvas.html";
 // })

 window.addEventListener('resize', function () {
canvas.width = window.innerWidth;
	canvas.height = window.innerHeight - 20;
	init();
 })
</script>
</body>
</html>